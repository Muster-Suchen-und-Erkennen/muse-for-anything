<template>
    <require from="./schema-form"></require>

    <div if.bind="schema == null">
        <h1 t="loading">Loading</h1>
    </div>
    <div if.bind="schema != null" style="max-width: 48rem; margin-left: auto; margin-right: auto;">
        <form submit.trigger="submit()">
            <schema-form initial-data.bind="initialData" schema.bind="schema" debug.bind="debug"
                label.bind="resourceTypeTranslationKey | t" value.bind="data" valid.bind="valid"></schema-form>
        </form>
        <div class="mt-2 px-1 flex flex-wrap gap-1">
            <div class="flex-grow" click.delegate="reset()" slot="reset"></div>
            <div class="flex-grow" click.delegate="submit()" slot="submit"><button class="w-full button-outline"
                    disabled.bind="!valid || submitting & empty">save</button>
            </div>
        </div>
    </div>
</template>
