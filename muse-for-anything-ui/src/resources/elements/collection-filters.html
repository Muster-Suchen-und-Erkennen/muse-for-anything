<template>
    <require from="./svg-icon.html"></require>
    <require from="./sort-filter"></require>

    <div class="flex flex-row items-end flex-wrap">
        <template if.bind="searchFilterKey != null">
            <form class="w-1/3" style="min-width: 15rem;" submit.delegate="onSearch()">
            <div role="search">
                <label class="font-semibold form-title" for="search-${slug}">
                    ${'filters.searchLabel' | t}
                </label>
                <div class="inline-flex gap-0 focus-within:ring-4">
                    <input id="search-${slug}" type="search" value.bind="searchFilterValue"
                        class="input-valid-check border border-r-0 rounded-r-sm border-gray-800 w-full px-2 py-1 dark:bg-gray-700 dark:border-gray-200">
                        <button value="Search" class="button-form-r inline-flex items-center">
                            <svg-icon class="mr-1" icon.bind="'search'"></svg-icon>
                            ${'filters.searchButton' | t}
                        </button>
                    </div>
                </div>
            </form>
        </template>
        <div class="flex flex-row items-baseline flex-wrap ml-2 mr-2" if.bind="sortFilter != null">
            <p class="flex-shrink-0">${'filters.sortBy' | t}:</p>
            <sort-filter class="contents" filter.bind="sortFilter" current-value.bind="sortFilterValue" sort-string.bind="newSortFilterValue"></sort-filter>
            <button class="button-flat h-8" click.delegate="onSort()" if.bind="newSortFilterValue != sortFilterValue">${'filters.apply' | t}</button>
        </div>
    </div>
</template>
