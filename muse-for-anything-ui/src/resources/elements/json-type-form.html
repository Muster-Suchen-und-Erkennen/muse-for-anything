<template>
    <require from="./validity-indicator"></require>
    <require from="./schema-form-actions"></require>

    <div class="flex flex-col form-field">
        <div class="flex w-full items-center">
            <p>
                <span class="font-semibold form-title">${label}</span>
                <span>${mainType}, </span>
                <label class="" for.bind="key+slug">${'schemaViews.nullable' | t}</label>
                <div class="inline-grid h-5 w-5 ml-4 mr-3">
                    <input class="rounded-sm focus:ring-4 px-2 py-1 dark:bg-gray-700 dark:border-gray-200"
                        id.bind="key+slug" name.bind="key+slug" type="checkbox" change.delegate="toggleNullable($event)"
                        checked.to-view="typeContainsNull">
                </div>
            </p>
            <validity-indicator class="ml-1" valid.bind="valid"></validity-indicator>
            <button class="button-outline" click.delegate="resetMainType()" if.bind="expectedMainType != null && expectedMainType !== mainType">
                Fix type not matching "${expectedMainType}"
            </button>
            <div class="flex-grow"></div>
            <div class="justify-items-end flex items-center" if.bind="actions != null">
                <schema-form-actions actions.bind="actions" key.bind="key" action-signal.call="actionSignal($event)">
                </schema-form-actions>
            </div>
        </div>
    </div>
</template>
