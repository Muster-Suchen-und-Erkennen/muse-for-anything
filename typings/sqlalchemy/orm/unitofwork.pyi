"""
This type stub file was generated by pyright.
"""

"""The internals for the unit of work system.

The session's flush() process passes objects to a contextual object
here, which assembles flush tasks based on mappers and their properties,
organizes them in order of dependency, and executes.

"""
def track_cascade_events(descriptor, prop):
    """Establish event listeners on object attributes which handle
    cascade-on-set/append.

    """
    ...

class UOWTransaction(object):
    def __init__(self, session) -> None:
        ...
    
    @property
    def has_work(self):
        ...
    
    def was_already_deleted(self, state):
        """Return ``True`` if the given state is expired and was deleted
        previously.
        """
        ...
    
    def is_deleted(self, state):
        """Return ``True`` if the given state is marked as deleted
        within this uowtransaction."""
        ...
    
    def memo(self, key, callable_):
        ...
    
    def remove_state_actions(self, state):
        """Remove pending actions for a state from the uowtransaction."""
        ...
    
    def get_attribute_history(self, state, key, passive=...):
        """Facade to attributes.get_state_history(), including
        caching of results."""
        ...
    
    def has_dep(self, processor):
        ...
    
    def register_preprocessor(self, processor, fromparent):
        ...
    
    def register_object(self, state, isdelete=..., listonly=..., cancel_delete=..., operation=..., prop=...):
        ...
    
    def register_post_update(self, state, post_update_cols):
        ...
    
    def filter_states_for_dep(self, dep, states):
        """Filter the given list of InstanceStates to those relevant to the
        given DependencyProcessor.

        """
        ...
    
    def states_for_mapper_hierarchy(self, mapper, isdelete, listonly):
        ...
    
    def execute(self):
        ...
    
    def finalize_flush_changes(self):
        """Mark processed objects as clean / deleted after a successful
        flush().

        This method is called within the flush() method after the
        execute() method has succeeded and the transaction has been committed.

        """
        ...
    


class IterateMappersMixin(object):
    ...


class Preprocess(IterateMappersMixin):
    __slots__ = ...
    def __init__(self, dependency_processor, fromparent) -> None:
        ...
    
    def execute(self, uow):
        ...
    


class PostSortRec(object):
    __slots__ = ...
    def __new__(cls, uow, *args):
        ...
    
    def execute_aggregate(self, uow, recs):
        ...
    


class ProcessAll(IterateMappersMixin, PostSortRec):
    __slots__ = ...
    def __init__(self, uow, dependency_processor, isdelete, fromparent) -> None:
        ...
    
    def execute(self, uow):
        ...
    
    def per_state_flush_actions(self, uow):
        ...
    
    def __repr__(self):
        ...
    


class PostUpdateAll(PostSortRec):
    __slots__ = ...
    def __init__(self, uow, mapper, isdelete) -> None:
        ...
    
    def execute(self, uow):
        ...
    


class SaveUpdateAll(PostSortRec):
    __slots__ = ...
    def __init__(self, uow, mapper) -> None:
        ...
    
    def execute(self, uow):
        ...
    
    def per_state_flush_actions(self, uow):
        ...
    
    def __repr__(self):
        ...
    


class DeleteAll(PostSortRec):
    __slots__ = ...
    def __init__(self, uow, mapper) -> None:
        ...
    
    def execute(self, uow):
        ...
    
    def per_state_flush_actions(self, uow):
        ...
    
    def __repr__(self):
        ...
    


class ProcessState(PostSortRec):
    __slots__ = ...
    def __init__(self, uow, dependency_processor, isdelete, state) -> None:
        ...
    
    def execute_aggregate(self, uow, recs):
        ...
    
    def __repr__(self):
        ...
    


class SaveUpdateState(PostSortRec):
    __slots__ = ...
    def __init__(self, uow, state) -> None:
        ...
    
    def execute_aggregate(self, uow, recs):
        ...
    
    def __repr__(self):
        ...
    


class DeleteState(PostSortRec):
    __slots__ = ...
    def __init__(self, uow, state) -> None:
        ...
    
    def execute_aggregate(self, uow, recs):
        ...
    
    def __repr__(self):
        ...
    


